{"version":3,"file":"useMonitorOutput.js","sourceRoot":"","sources":["../../../src/hooks/internal/useMonitorOutput.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,yBAAyB,EAAE,MAAM,6BAA6B,CAAA;AACvE,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAA;AAG7C,MAAM,UAAU,gBAAgB,CAC/B,OAAsC,EACtC,OAAwC,EACxC,SAAsB;IAEtB,MAAM,CAAC,SAAS,EAAE,eAAe,CAAC,GAAG,YAAY,CAAC,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAA;IAE9E,yBAAyB,CACxB,SAAS,6BAA6B;QACrC,MAAM,SAAS,GAAG,OAAO,CAAC,YAAY,EAAE,CAAA;QACxC,IAAI,SAAS,IAAI,IAAI,EAAE;YACtB,OAAO,SAAS,CAAA;SAChB;QACD,OAAO,OAAO,CAAC,sBAAsB,CAAC,eAAe,EAAE;YACtD,UAAU,EAAE,CAAC,SAAS,CAAC;SACvB,CAAC,CAAA;IACH,CAAC,EACD,CAAC,OAAO,EAAE,eAAe,CAAC,CAC1B,CAAA;IAED,OAAO,SAAS,CAAA;AACjB,CAAC","sourcesContent":["import { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect'\nimport { useCollector } from './useCollector'\nimport { HandlerManager, MonitorEventEmitter } from '../../interfaces'\n\nexport function useMonitorOutput<Monitor extends HandlerManager, Collected>(\n\tmonitor: Monitor & MonitorEventEmitter,\n\tcollect: (monitor: Monitor) => Collected,\n\tonCollect?: () => void,\n): Collected {\n\tconst [collected, updateCollected] = useCollector(monitor, collect, onCollect)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction subscribeToMonitorStateChange() {\n\t\t\tconst handlerId = monitor.getHandlerId()\n\t\t\tif (handlerId == null) {\n\t\t\t\treturn undefined\n\t\t\t}\n\t\t\treturn monitor.subscribeToStateChange(updateCollected, {\n\t\t\t\thandlerIds: [handlerId],\n\t\t\t})\n\t\t},\n\t\t[monitor, updateCollected],\n\t)\n\n\treturn collected\n}\n"]}