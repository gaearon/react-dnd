{"version":3,"file":"DragPreviewImage.js","sourceRoot":"","sources":["../../src/common/DragPreviewImage.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAM,SAAS,EAAE,IAAI,EAAE,MAAM,OAAO,CAAA;AAO3C;;GAEG;AACH,MAAM,CAAC,MAAM,gBAAgB,GAA8B,IAAI,CAC9D,SAAS,gBAAgB,CAAC,EAAE,OAAO,EAAE,GAAG,EAAE;IACzC,SAAS,CAAC,GAAG,EAAE;QACd,IAAI,OAAO,KAAK,KAAK,WAAW;YAAE,OAAM;QAExC,IAAI,SAAS,GAAG,KAAK,CAAA;QACrB,MAAM,GAAG,GAAG,IAAI,KAAK,EAAE,CAAA;QACvB,GAAG,CAAC,GAAG,GAAG,GAAG,CAAA;QACb,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE;YACjB,OAAO,CAAC,GAAG,CAAC,CAAA;YACZ,SAAS,GAAG,IAAI,CAAA;QACjB,CAAC,CAAA;QACD,OAAO,GAAG,EAAE;YACX,IAAI,SAAS,EAAE;gBACd,OAAO,CAAC,IAAI,CAAC,CAAA;aACb;QACF,CAAC,CAAA;IACF,CAAC,CAAC,CAAA;IAEF,OAAO,IAAI,CAAA;AACZ,CAAC,CACD,CAAA","sourcesContent":["import { FC, useEffect, memo } from 'react'\nimport { ConnectDragPreview } from '../interfaces'\n\nexport interface DragPreviewImageProps {\n\tconnect: ConnectDragPreview\n\tsrc: string\n}\n/**\n * A utility for rendering a drag preview image\n */\nexport const DragPreviewImage: FC<DragPreviewImageProps> = memo(\n\tfunction DragPreviewImage({ connect, src }) {\n\t\tuseEffect(() => {\n\t\t\tif (typeof Image === 'undefined') return\n\n\t\t\tlet connected = false\n\t\t\tconst img = new Image()\n\t\t\timg.src = src\n\t\t\timg.onload = () => {\n\t\t\t\tconnect(img)\n\t\t\t\tconnected = true\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tconnect(null)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn null\n\t},\n)\n"]}